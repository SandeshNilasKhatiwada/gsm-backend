// Product Model
model Product {
    id             String    @id @default(uuid())
    shopId         String    @map("shop_id")
    name           String
    slug           String
    description    String?
    price          Decimal   @db.Decimal(10, 2)
    compareAtPrice Decimal?  @map("compare_at_price") @db.Decimal(10, 2)
    costPerItem    Decimal?  @map("cost_per_item") @db.Decimal(10, 2)
    sku            String?
    barcode        String?
    quantity       Int       @default(0)
    images         Json?
    category       String?
    tags           Json?
    isActive       Boolean   @default(true) @map("is_active")
    isFeatured     Boolean   @default(false) @map("is_featured")
    averageRating  Decimal   @default(0) @map("average_rating") @db.Decimal(3, 2)
    totalReviews   Int       @default(0) @map("total_reviews")
    totalSales     Int       @default(0) @map("total_sales")
    createdBy      String    @map("created_by")
    deletedAt      DateTime? @map("deleted_at")
    createdAt      DateTime  @default(now()) @map("created_at")
    updatedAt      DateTime  @updatedAt @map("updated_at")

    shop       Shop        @relation(fields: [shopId], references: [id], onDelete: Cascade)
    creator    User        @relation(fields: [createdBy], references: [id])
    reviews    Review[]
    comments   Comment[]
    orderItems OrderItem[]

    @@map("products")
}

// Service Model
model Service {
    id            String    @id @default(uuid())
    shopId        String    @map("shop_id")
    name          String
    description   String?
    price         Decimal   @db.Decimal(10, 2)
    duration      Int?
    images        Json?
    isActive      Boolean   @default(true) @map("is_active")
    averageRating Decimal   @default(0) @map("average_rating") @db.Decimal(3, 2)
    totalReviews  Int       @default(0) @map("total_reviews")
    createdBy     String    @map("created_by")
    deletedAt     DateTime? @map("deleted_at")
    createdAt     DateTime  @default(now()) @map("created_at")
    updatedAt     DateTime  @updatedAt @map("updated_at")

    shop     Shop      @relation(fields: [shopId], references: [id], onDelete: Cascade)
    creator  User      @relation(fields: [createdBy], references: [id])
    reviews  Review[]
    comments Comment[]

    @@map("services")
}
